{"version":3,"file":"static/js/home-page.ea18eb93.chunk.js","mappings":"sQACA,EAAiC,iCAAjC,EAAmF,iCAAnF,EAAqI,iC,mBCC9H,SAAeA,IAAtB,4CAAO,OAAP,oBAAO,oGACsBC,IAAAA,IAEvB,6FAEDC,MAAK,SAAAC,GAQJ,OAPoBA,EAAIC,KAAKC,QAAQC,KAAI,SAAAC,GAEvC,MAAO,CACLC,GAFoBD,EAAdC,GAGNC,MAHoBF,EAAVE,aAPb,cACCC,EADD,yBAeEA,GAfF,kE,aCGQ,SAASC,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAA4DC,EAAAA,EAAAA,WAAS,WAAO,IAAD,EACzE,iBAAOC,aAAaC,QAAQ,oBAA5B,QAA4CC,KAAKC,SADnD,eAAOC,EAAP,KAA+BC,EAA/B,KAGA,GAA4CN,EAAAA,EAAAA,WAAS,WAAO,IAAD,EACzD,iBAAOO,KAAKC,MAAMC,OAAOR,aAAaC,QAAQ,uBAA9C,QAAiE,MADnE,eAAOQ,EAAP,KAAuBC,EAAvB,KAwBA,OApBAC,EAAAA,EAAAA,YAAU,WAAM,wCACd,yFACQC,EAAYV,KAAKC,MAAQC,EACP,MACpBQ,EADoB,KAC8B,KAAnBH,GAHrC,0EAQsBxB,IARtB,OAQUG,EARV,OASIsB,GAAkB,OAAItB,IACtBY,aAAaa,QAAQ,cAAeP,KAAKQ,UAAU1B,IACnDiB,EAA0BH,KAAKC,OAC/BH,aAAaa,QAAQ,YAAaX,KAAKC,OAZ3C,kDAcIY,QAAQC,IAAR,MAdJ,2DADc,uBAAC,WAAD,wBAkBdC,KACC,CAACb,EAAwBK,KAE1B,0BACE,eAAIS,UAAWC,EAAf,SACGV,GACCA,EAAelB,KAAI,SAAA6B,GACjB,IAAQ3B,EAAc2B,EAAd3B,GAAIC,EAAU0B,EAAV1B,MACZ,OACE,eAAawB,UAAWC,EAAxB,UACE,SAAC,KAAD,CACEE,GAAE,iBAAY5B,GACd6B,MAAO,CACLC,KAAM1B,EACN2B,MAAO,yBACPC,WAAY,KAEdP,UAAWC,EAPb,SASGzB,KAVID,Y,+ECrCR,SAASiC,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,EAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOH,MAAML,KAAKQ,GFInF,CAAgBJ,KAAQ,EAAAO,EAAA,GAA2BP,IGLvE,WACb,MAAM,IAAIQ,UAAU,wIHIwE","sources":["webpack://goit-react-hw-05-movies/./src/pages/HomePage/HomePage.module.css?5baa","services/API/FetchTrendMovies.js","pages/HomePage/HomePage.jsx","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"homepage__list\":\"HomePage_homepage__list__NWZiT\",\"homepage__item\":\"HomePage_homepage__item__487aT\",\"homepage__link\":\"HomePage_homepage__link__dd04z\"};","import axios from 'axios';\n\nexport async function fetchTrendMovies() {\n  const trendingMovs = await axios\n    .get(\n      'https://api.themoviedb.org/3/trending/movie/week?api_key=b0b2ab4c759c38b967f7e88f564a31ce'\n    )\n    .then(res => {\n      const moviesArray = res.data.results.map(result => {\n        const { id, title } = result;\n        return {\n          id,\n          title,\n        };\n      });\n      return moviesArray;\n    });\n  return trendingMovs;\n}\n","import { useEffect, useState } from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport css from './HomePage.module.css';\nimport { fetchTrendMovies } from 'services/API/FetchTrendMovies';\n\nexport default function Homepage() {\n  const location = useLocation();\n  const [lastFetchTrendMovsDate, setLastFetchTrendMovsDate] = useState(() => {\n    return localStorage.getItem('fetchDate') ?? Date.now();\n  });\n  const [trendingMovies, setTrendingMovies] = useState(() => {\n    return JSON.parse(window.localStorage.getItem('trendMovies')) ?? '';\n  });\n\n  useEffect(() => {\n    async function getTrendingMovies() {\n      const deltaTime = Date.now() - lastFetchTrendMovsDate;\n      const minimalInterval = 600000;\n      if (deltaTime < minimalInterval && trendingMovies !== '') {\n        return;\n      }\n\n      try {\n        const res = await fetchTrendMovies();\n        setTrendingMovies([...res]);\n        localStorage.setItem('trendMovies', JSON.stringify(res));\n        setLastFetchTrendMovsDate(Date.now());\n        localStorage.setItem('fetchDate', Date.now());\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    getTrendingMovies();\n  }, [lastFetchTrendMovsDate, trendingMovies]);\n  return (\n    <div>\n      <ul className={css.homepage__list}>\n        {trendingMovies &&\n          trendingMovies.map(movie => {\n            const { id, title } = movie;\n            return (\n              <li key={id} className={css.homepage__item}>\n                <NavLink\n                  to={`movies/${id}`}\n                  state={{\n                    from: location,\n                    label: 'back to popular movies',\n                    originPath: '/',\n                  }}\n                  className={css.homepage__link}\n                >\n                  {title}\n                </NavLink>\n              </li>\n            );\n          })}\n      </ul>\n    </div>\n  );\n}\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["fetchTrendMovies","axios","then","res","data","results","map","result","id","title","trendingMovs","Homepage","location","useLocation","useState","localStorage","getItem","Date","now","lastFetchTrendMovsDate","setLastFetchTrendMovsDate","JSON","parse","window","trendingMovies","setTrendingMovies","useEffect","deltaTime","setItem","stringify","console","log","getTrendingMovies","className","css","movie","to","state","from","label","originPath","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","unsupportedIterableToArray","TypeError"],"sourceRoot":""}